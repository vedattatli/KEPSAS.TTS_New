@model IEnumerable<KEPSAS.TTS.Models.Talep>
@{
    ViewData["Title"] = "Tamamlanan Talepler";
    string Fmt(DateTime? d) => d.HasValue ? d.Value.ToLocalTime().ToString("dd.MM.yyyy HH:mm") : "-";
}
<div class="content-card">
    <div class="content-card-header d-flex justify-content-between align-items-center">
        <span>Tamamlanan Talepler</span>
        <a class="btn btn-sm btn-outline-secondary" href="@Url.Action("Index", "Home")">Gösterge Paneli</a>
    </div>
    <div class="p-0">
        <table class="table content-table mb-0">
            <thead>
                <tr>
                    <th>No</th>
                    <th>Başlık</th>
                    <th>Durum</th>
                    <th>Oluşturma</th>
                    <th style="width:1%"></th>
                </tr>
            </thead>
            <tbody>
                @if (!Model.Any())
                {
                    <tr><td colspan="5" class="text-center text-muted">Kayıt yok.</td></tr>
                }
                else
                {
                    foreach (var t in Model)
                    {
                        <tr>
                            <td>#@t.Id</td>
                            <td>@t.Baslik</td>
                            <td>@(t.Durum ?? "-")</td>
                            <td>@Fmt(t.OlusturmaTarihi)</td>
                            <td>
                                <a class="btn btn-sm btn-outline-primary"
                                   href="@Url.Action("Details", "Talep", new { id = t.Id })">Detay</a>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
